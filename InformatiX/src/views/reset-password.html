<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resetare Parolă</title>
    <link rel="icon" type="image/png" href="../../public/favicons/icon.png">
    <link rel="stylesheet" href="../../public/css/header1.css">
    <link rel="stylesheet" href="../../public/css/footer.css">
    <link rel="stylesheet" href="../../public/css/reset-password.css">
    <script>
      function showSidebar() {
        const sidebar = document.querySelector('.sidebar')
        sidebar.style.display = 'flex'
      }
      function hideSidebar() {
        const sidebar = document.querySelector('.sidebar')
        sidebar.style.display = 'none'
      }
        
      function showSignUp() {
          const flipCheckbox = document.getElementById('flip');
          flipCheckbox.checked = true;
        }
    
        function showLogin() {
          const flipCheckbox = document.getElementById('flip');
          flipCheckbox.checked = false;
        }
        async function logout() {
      try {
        const response = await fetch('/logout', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          }
        });
        if (response.ok) {
          //alert('Logout successful');
          window.location.href = '/';
        } else {
          alert('Logout failed');
        }
      } catch (error) {
        console.error('Error during logout:', error);
      }
    }
    </script> 
      <script src="../../public/js/checkAdmin.js"></script>

</head>

<body>

  <header>
    <nav>
        <ul class="sidebar">
            <li onclick=hideSidebar()><a href="#"><svg xmlns="http://www.w3.org/2000/svg" height="26"
                        viewBox="0 96 960 960" width="26">
                        <path
                            d="m249 849-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231-231 231Z" />
                    </svg></a></li>
            <li><a href="/home" onclick=hideSidebar()>Home</a></li>
            <li><a href="/home/probleme" onclick=hideSidebar()>Probleme</a></li>
            <li><a href="/home/clasele-mele" onclick="hideSidebar()">Clasele mele</a></li>
            <li><a href="/home/profil" onclick="hideSidebar()">Profil</a></li>
            <li><a href="/home/administrare" onclick="hideSidebar()">Administrare</a></li>
            <li><a href="/" onclick="logout()">Logout</a></li>
        </ul>
        <ul class="menu">
            <li><a href="/home">Home</a></li>
            <li class="hideOnMobile"><a href="/home/probleme">Probleme</a></li>
            <li class="hideOnMobile"><a href="/home/clasele-mele">Clasele mele</a></li>
            <li class="hideOnMobile"><a href="/home/profil">Profil</a></li>
            <li class="hideOnMobile"><a href="/home/administrare">Administrare</a></li>
            <li class="hideOnMobile"><a href="/"onclick="logout()">Logout</a></li>
            <li class="menu-button" onclick=showSidebar()><a href="#"><svg xmlns="http://www.w3.org/2000/svg"
                        height="26" viewBox="0 96 960 960" width="26">
                        <path d="M120 816v-60h720v60H120Zm0-210v-60h720v60H120Zm0-210v-60h720v60H120Z" />
                    </svg></a></li>
        </ul>
    </nav>
</header>
    <div class="content">
        <div class="login-form" id="login">
          <div class="title">Resetare parolă</div>
          <div id="reset-message" style="display: none;">
            Parola a fost resetată cu succes!
        </div>
        <div class="button" id="button" style="display: none;">
            <button onclick="window.location.href='/'">Go to login</button>
        </div>
          <form id="reset-password-form">
            <div class="input-boxes">
              <div class="input-box">
                <i class="fas fa-lock"></i>
                <input id="Confirmpassword1" type="password" name="newPassword" placeholder="Parola" required>
              </div>
              <div class="input-box">
                <i class="fas fa-lock"></i>
                <input id="Confirmpassword2" type="password" name="confirmNewPassword" placeholder="Confirmă parola" required>
              </div>
              <div id="error-message" style="display: none;"></div>
              <div class="button input-box">
                <input type="submit" value="Schimbă parola">
              </div>
            </div>
          </form>
        </div>
      </div>
      
    
    <footer>
      <p>Contact: informatix@example.com Toate drepturile sunt rezervate.</p>
    </footer>

    <script src="../../public/js/resetPassword.js"></script>
</body>
</html>